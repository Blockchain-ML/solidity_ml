F:\Blockchain\dataset_new_byID\78727.sol
jar:file:/C:/Users/hp/AppData/Roaming/npm/node_modules/@smartdec/smartcheck/jdeploy-bundle/smartcheck-2.0-jar-with-dependencies.jar!/solidity-rules.xmlruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 37
column: 47
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 68
column: 22
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 69
column: 67
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 70
column: 42
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 71
column: 23
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 78
column: 5
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 85
column: 21
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 86
column: 67
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 87
column: 40
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 88
column: 22
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 96
column: 4
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 112
column: 22
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 121
column: 44
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 126
column: 45
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 165
column: 24
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 169
column: 24
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 173
column: 24
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 177
column: 37
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 178
column: 29
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 179
column: 31
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 188
column: 37
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 217
column: 2
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 221
column: 37
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 280
column: 24
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 286
column: 25
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 294
column: 33
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 307
column: 24
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 308
column: 32
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 350
column: 24
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 355
column: 24
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 364
column: 24
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 369
column: 24
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 375
column: 24
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 376
column: 37
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 382
column: 24
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 420
column: 26
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 425
column: 26
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 426
column: 52
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 431
column: 45
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 437
column: 26
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 461
column: 26
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 467
column: 26
content: throw

ruleId: SOLIDITY_EXTRA_GAS_IN_LOOPS
patternId: d3j11j
severity: 1
line: 295
column: 2
content: for(vari=0;i<subbalances.length;i++){if(subbalances[i]==sb){uint256add_debit=subbalances[i].closeBalance();Meterm=Meter(meters[sb.node()]);m.addPDclosingDebit(add_debit);deletesubbalances[i];}}

ruleId: SOLIDITY_EXTRA_GAS_IN_LOOPS
patternId: d3j11j
severity: 1
line: 317
column: 2
content: for(vari=0;((i<subbalances.length)&&(balancable>0));i++){if(subbalances[i].node()==n){if(m.feed_in()==subbalances[i].isFeedin()){balancable-=subbalances[i].applyBalance(balancable);}}}

ruleId: SOLIDITY_EXTRA_GAS_IN_LOOPS
patternId: d3j11j
severity: 1
line: 356
column: 2
content: for(uinti=0;i<peers.length;i++){if(peers[i]==_peer){deletepeers[i];}}

ruleId: SOLIDITY_EXTRA_GAS_IN_LOOPS
patternId: d3j11j
severity: 1
line: 394
column: 2
content: for(uinti=0;i<peers.length;i++){if(peers[i].test(_delivery,this))returntrue;}

ruleId: SOLIDITY_EXTRA_GAS_IN_LOOPS
patternId: d3j11j
severity: 1
line: 443
column: 2
content: for(vari=0;i<deliveries.length;i++){if((deliveries[i].time_start()>=now)&&(deliveries[i].openedBalances()==false)){deliveries[i].openSubBalance();}if((deliveries[i].time_end()<=now)&&(deliveries[i].closedBalances()==false)){deliveries[i].closeSubBalance();}if((deliveries[i].feed_in()!=this)&&(deliveries[i].feed_out()!=this)){deletedeliveries[i];}if(deliveries[i].closedBalances()){archived_deliveries.push(deliveries[i]);deletedeliveries[i];}}

ruleId: SOLIDITY_GAS_LIMIT_IN_LOOPS
patternId: f6f853
severity: 2
line: 295
column: 2
content: for(vari=0;i<subbalances.length;i++){if(subbalances[i]==sb){uint256add_debit=subbalances[i].closeBalance();Meterm=Meter(meters[sb.node()]);m.addPDclosingDebit(add_debit);deletesubbalances[i];}}

ruleId: SOLIDITY_GAS_LIMIT_IN_LOOPS
patternId: f6f853
severity: 2
line: 356
column: 2
content: for(uinti=0;i<peers.length;i++){if(peers[i]==_peer){deletepeers[i];}}

ruleId: SOLIDITY_GAS_LIMIT_IN_LOOPS
patternId: f6f853
severity: 2
line: 394
column: 2
content: for(uinti=0;i<peers.length;i++){if(peers[i].test(_delivery,this))returntrue;}

ruleId: SOLIDITY_GAS_LIMIT_IN_LOOPS
patternId: f6f853
severity: 2
line: 443
column: 2
content: for(vari=0;i<deliveries.length;i++){if((deliveries[i].time_start()>=now)&&(deliveries[i].openedBalances()==false)){deliveries[i].openSubBalance();}if((deliveries[i].time_end()<=now)&&(deliveries[i].closedBalances()==false)){deliveries[i].closeSubBalance();}if((deliveries[i].feed_in()!=this)&&(deliveries[i].feed_out()!=this)){deletedeliveries[i];}if(deliveries[i].closedBalances()){archived_deliveries.push(deliveries[i]);deletedeliveries[i];}}

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 37
column: 3
content: if(_Termination_owner.nodes(msg.sender)!=1)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 68
column: 3
content: if(time_start<now)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 69
column: 3
content: if((feed_in==product_owner)&&(Node(msg.sender)!=product_owner))throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 70
column: 3
content: if(!testTermination(Node(msg.sender)))throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 71
column: 3
content: if(_bid_in>ask_out)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 73
column: 4
content: if(_bid_in<bid_in){feed_in=Node(msg.sender);bid_in=_bid_in;haspeer=true;}else{throw;}

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 85
column: 2
content: if(time_start<now)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 86
column: 2
content: if((feed_out==product_owner)&&(Node(msg.sender)!=product_owner))throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 87
column: 2
content: if(!testTermination(Node(msg.sender)))throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 88
column: 2
content: if(_ask_out<bid_in)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 91
column: 2
content: if(_ask_out>ask_out){feed_out=Node(msg.sender);ask_out=_ask_out;haspeer=true;}else{throw;}

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 112
column: 2
content: if(!openedBalances)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 121
column: 2
content: if(SubBalance(msg.sender)!=subbalance_in)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 126
column: 2
content: if(SubBalance(msg.sender)!=subbalance_out)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 165
column: 2
content: if(msg.sender!=owner)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 169
column: 2
content: if(msg.sender!=owner)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 173
column: 2
content: if(msg.sender!=owner)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 177
column: 2
content: if(Metering(msg.sender)!=metering)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 178
column: 2
content: if(time<last_reading_time)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 179
column: 2
content: if(value<last_reading_value)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 188
column: 2
content: if(Metering(msg.sender)!=metering)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 221
column: 2
content: if(Metering(msg.sender)!=metering)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 280
column: 2
content: if(msg.sender!=owner)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 286
column: 2
content: if(n.metering()!=this)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 294
column: 2
content: if(sb.node().metering()!=this)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 307
column: 2
content: if(msg.sender!=owner)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 308
column: 2
content: if(nodes[m].metering()!=this)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 350
column: 2
content: if(msg.sender!=owner)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 355
column: 2
content: if(msg.sender!=owner)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 364
column: 2
content: if(msg.sender!=owner)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 369
column: 2
content: if(msg.sender!=owner)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 375
column: 2
content: if(msg.sender!=owner)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 376
column: 2
content: if(meterings[_node.metering()]!=1)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 382
column: 2
content: if(msg.sender!=owner)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 420
column: 2
content: if(msg.sender!=manager)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 425
column: 2
content: if(msg.sender!=manager)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 426
column: 2
content: if(metering.meters(this).last_reading_value()==0)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 431
column: 2
content: if(metering.meters(this).termination()!=t)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 437
column: 2
content: if(msg.sender!=manager)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 461
column: 2
content: if(msg.sender!=manager)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 467
column: 2
content: if(msg.sender!=manager)throw;

ruleId: SOLIDITY_VAR
patternId: d28aa7
severity: 2
line: 295
column: 6
content: vari=0

ruleId: SOLIDITY_VAR
patternId: d28aa7
severity: 2
line: 317
column: 6
content: vari=0

ruleId: SOLIDITY_VAR
patternId: d28aa7
severity: 2
line: 443
column: 6
content: vari=0

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 36
column: 1
content: functionPowerDelivery(bool_is_feedin,uint256_time_start,uint256_time_end,uint256_total_power,uint256_peak_load,uint256_min_load,Termination_Termination_owner,uint256_bid){if(_Termination_owner.nodes(msg.sender)!=1)throw;if(_time_start>0){time_start=_time_start;}else{time_start=now+86400;}if(_time_end>0){time_end=_time_end;}else{time_end=time_start+86400;}total_power=_total_power;peak_load=_peak_load;min_load=_min_load;product_owner=Node(msg.sender);Termination_owner=_Termination_owner;bid_in=_bid;ask_out=_bid;if(_is_feedin){feed_in=Node(msg.sender);ask_out=_bid;}else{feed_out=Node(msg.sender);bid_in=_bid;}openedBalances=false;closedBalances=false;haspeer=false;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 66
column: 2
content: functionsellFeedIn(uint256_bid_in){if(time_start<now)throw;if((feed_in==product_owner)&&(Node(msg.sender)!=product_owner))throw;if(!testTermination(Node(msg.sender)))throw;if(_bid_in>ask_out)throw;if(_bid_in<bid_in){feed_in=Node(msg.sender);bid_in=_bid_in;haspeer=true;}else{throw;}}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 84
column: 1
content: functionbuyFeedOut(uint256_ask_out){if(time_start<now)throw;if((feed_out==product_owner)&&(Node(msg.sender)!=product_owner))throw;if(!testTermination(Node(msg.sender)))throw;if(_ask_out<bid_in)throw;if(_ask_out>ask_out){feed_out=Node(msg.sender);ask_out=_ask_out;haspeer=true;}else{throw;}}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 101
column: 1
content: functionopenSubBalance(){if((!openedBalances)&&(haspeer)){if((now>=time_start)&&(now<=time_end)){subbalance_in=feed_in.metering().openSubBalance(feed_in,this);subbalance_out=feed_out.metering().openSubBalance(feed_out,this);openedBalances=true;}}}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 111
column: 1
content: functioncloseSubBalance(){if(!openedBalances)throw;if(time_end<=now){feed_in.metering().closeSubBalance(subbalance_in);feed_out.metering().closeSubBalance(subbalance_out);closedBalances=true;}}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 120
column: 1
content: functiondeliveredIn(uint256_value){if(SubBalance(msg.sender)!=subbalance_in)throw;delivered_in+=_value;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 125
column: 1
content: functiondeliveredOut(uint256_value){if(SubBalance(msg.sender)!=subbalance_out)throw;delivered_out+=_value;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 131
column: 1
content: functiontestTermination(Nodea)returns(bool){returnTermination_owner.test(a);}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 135
column: 1
content: function(){if(msg.value>0){product_owner.send(msg.value);}}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 156
column: 1
content: functionMeter(uint256inital_reading,bool_feed_in){owner=msg.sender;last_reading_value=inital_reading;last_reading_time=now;power_debit=0;power_credit=0;feed_in=_feed_in;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 164
column: 1
content: functionsetMetering(Metering_metering){if(msg.sender!=owner)throw;metering=_metering;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 168
column: 1
content: functionsetTermination(Termination_termination){if(msg.sender!=owner)throw;termination=_termination;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 172
column: 1
content: functionsetFeedIn(bool_feed_in){if(msg.sender!=owner)throw;feed_in=_feed_in;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 176
column: 1
content: functionupdateReading(uint256value,uint256time,uint256add_debit,uint256add_credit){if(Metering(msg.sender)!=metering)throw;if(time<last_reading_time)throw;if(value<last_reading_value)throw;power_debit+=add_debit;power_credit+=add_credit;last_reading_value=value;last_reading_time=time;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 187
column: 1
content: functionaddPDclosingDebit(uint256add_debit){if(Metering(msg.sender)!=metering)throw;power_debit+=add_debit;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 191
column: 1
content: function(){if(msg.value>0){owner.send(msg.value);}}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 207
column: 1
content: functionSubBalance(Node_node,PowerDelivery_pd){metering=Metering(msg.sender);node=_node;pd=_pd;open_time=now;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 214
column: 1
content: functionisFeedin()returns(bool){if(pd.feed_in()==node)returntrue;if(pd.feed_out()==node)returnfalse;throw;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 220
column: 1
content: functionapplyBalance(uint256_balancable)returns(uint256){if(Metering(msg.sender)!=metering)throw;if(pd.time_start()>now)return_balancable;if(pd.time_end()<now)return_balancable;if(_balancable>0){uint256todo=0;if(pd.feed_in()==node){if(pd.total_power()>pd.delivered_in()){todo=pd.total_power()-pd.delivered_in();if(todo<_balancable){_balancable=todo;}pd.deliveredIn(_balancable);}}else{if(pd.total_power()>pd.delivered_out()){todo=pd.total_power()-pd.delivered_out();if(todo<_balancable){_balancable=todo;}pd.deliveredOut(_balancable);}}balanced+=_balancable;}last_update=now;return_balancable;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 251
column: 1
content: functioncloseBalance()returns(uint256){uint256todo;if(pd.feed_in()==node){if(pd.total_power()>pd.delivered_in()){todo=pd.total_power()-pd.delivered_in();}}else{if(pd.total_power()>pd.delivered_out()){todo=pd.total_power()-pd.delivered_out();}}balanced+=todo;returntodo;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 275
column: 1
content: functionMetering(){owner=msg.sender;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 279
column: 1
content: functionaddMeter(Metermeter,Node_node){if(msg.sender!=owner)throw;meters[_node]=meter;nodes[meter]=_node;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 285
column: 1
content: functionopenSubBalance(Noden,PowerDeliverypd)returns(SubBalance){if(n.metering()!=this)throw;SubBalancesb=newSubBalance(n,pd);subbalances.push(sb);returnsb;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 293
column: 1
content: functioncloseSubBalance(SubBalancesb){if(sb.node().metering()!=this)throw;for(vari=0;i<subbalances.length;i++){if(subbalances[i]==sb){uint256add_debit=subbalances[i].closeBalance();Meterm=Meter(meters[sb.node()]);m.addPDclosingDebit(add_debit);deletesubbalances[i];}}}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 306
column: 1
content: functionupdateReading(Meterm,uint256reading_time,uint256reading_value){if(msg.sender!=owner)throw;if(nodes[m].metering()!=this)throw;Noden=nodes[m];uint256add_credit=0;uint256add_debit=0;uint256last_value=m.last_reading_value();uint256last_time=m.last_reading_time();if(reading_time==0)reading_time=now;uint256balancable=reading_value-last_value;for(vari=0;((i<subbalances.length)&&(balancable>0));i++){if(subbalances[i].node()==n){if(m.feed_in()==subbalances[i].isFeedin()){balancable-=subbalances[i].applyBalance(balancable);}}}add_credit=(reading_value-last_value)-balancable;add_debit=balancable;m.updateReading(reading_value,reading_time,add_debit,add_credit);}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 329
column: 1
content: function(){if(msg.value>0){owner.send(msg.value);}}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 345
column: 1
content: functionTermination(){owner=msg.sender;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 349
column: 1
content: functionaddPeer(Termination_peer){if(msg.sender!=owner)throw;peers.push(_peer);}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 354
column: 1
content: functionremovePeer(Termination_peer){if(msg.sender!=owner)throw;for(uinti=0;i<peers.length;i++){if(peers[i]==_peer){deletepeers[i];}}}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 363
column: 1
content: functionaddMetering(addressa){if(msg.sender!=owner)throw;meterings[a]=1;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 368
column: 1
content: functionremoveMetering(addressa){if(msg.sender!=owner)throw;meterings[a]=2;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 374
column: 1
content: functionaddNode(Node_node){if(msg.sender!=owner)throw;if(meterings[_node.metering()]!=1)throw;_node.transferTermination(this);nodes[_node]=1;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 381
column: 1
content: functionremoveNode(Node_node){if(msg.sender!=owner)throw;nodes[_node]=2;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 386
column: 1
content: functiontest(Noded)returns(bool){returntest(d,this);}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 390
column: 1
content: functiontest(Node_delivery,Terminationcallstack)returns(bool){TestTermination(msg.sender,_delivery);if(nodes[_delivery]==1)returntrue;for(uinti=0;i<peers.length;i++){if(peers[i].test(_delivery,this))returntrue;}returnfalse;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 400
column: 1
content: function(){if(msg.value>0){owner.send(msg.value);}}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 414
column: 1
content: functionNode(Metering_metering){manager=msg.sender;metering=_metering;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 419
column: 1
content: functiontransferManager(addressa){if(msg.sender!=manager)throw;manager=a;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 424
column: 1
content: functiontransferMetering(Meteringa){if(msg.sender!=manager)throw;if(metering.meters(this).last_reading_value()==0)throw;metering=a;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 430
column: 1
content: functiontransferTermination(Terminationt){if(metering.meters(this).termination()!=t)throw;termination=t;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 436
column: 1
content: functioncreateOffer(bool_is_feedin,uint256_time_start,uint256_time_end,uint256_total_power,uint256_peak_load,uint256_min_load,uint256_bid){if(msg.sender!=manager)throw;PowerDeliverypd=newPowerDelivery(_is_feedin,_time_start,_time_end,_total_power,_peak_load,_min_load,termination,_bid);deliveries.push(pd);}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 442
column: 1
content: functionbalanceDeliveries(){for(vari=0;i<deliveries.length;i++){if((deliveries[i].time_start()>=now)&&(deliveries[i].openedBalances()==false)){deliveries[i].openSubBalance();}if((deliveries[i].time_end()<=now)&&(deliveries[i].closedBalances()==false)){deliveries[i].closeSubBalance();}if((deliveries[i].feed_in()!=this)&&(deliveries[i].feed_out()!=this)){deletedeliveries[i];}if(deliveries[i].closedBalances()){archived_deliveries.push(deliveries[i]);deletedeliveries[i];}}}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 460
column: 1
content: functionsignSellFeedIn(PowerDeliverypd,uint256value){if(msg.sender!=manager)throw;pd.sellFeedIn(value);deliveries.push(pd);}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 466
column: 1
content: functionsignBuyFeedOut(PowerDeliverypd,uint256value){if(msg.sender!=manager)throw;pd.buyFeedOut(value);deliveries.push(pd);}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 472
column: 1
content: function(){if(msg.value>0){manager.send(msg.value);}}

ruleId: SOLIDITY_VISIBILITY
patternId: b51ce0
severity: 1
line: 34
column: 1
content: boolhaspeer;

ruleId: SOLIDITY_VISIBILITY
patternId: b51ce0
severity: 1
line: 272
column: 1
content: SubBalance[]subbalances;

SOLIDITY_VISIBILITY :47
SOLIDITY_DEPRECATED_CONSTRUCTIONS :42
SOLIDITY_REVERT_REQUIRE :41
SOLIDITY_VAR :3
SOLIDITY_EXTRA_GAS_IN_LOOPS :5
SOLIDITY_GAS_LIMIT_IN_LOOPS :4
