C:\Users\hp\DataSet\OptionsCalculator.sol
jar:file:/C:/Users/hp/AppData/Roaming/npm/node_modules/@smartdec/smartcheck/jdeploy-bundle/smartcheck-2.0-jar-with-dependencies.jar!/solidity-rules.xmlruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 29
column: 6
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 183
column: 6
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 185
column: 6
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 188
column: 6
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 28fa69
severity: 1
line: 13
column: 2
content: functionresidualAmountPromille()publicconstantreturns(uint){returnFP_SCALE-maxFadeoutPromille;}

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 28fa69
severity: 1
line: 25
column: 2
content: functionhasParameters()publicconstantreturns(bool){returnoptionsPerShare>0;}

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 28fa69
severity: 1
line: 33
column: 2
content: functioncalcNewEmployeePoolOptions(uintremainingPoolOptions)publicconstantreturns(uint){returndivRound(remainingPoolOptions*newEmployeePoolPromille,FP_SCALE);}

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 28fa69
severity: 1
line: 41
column: 2
content: functioncalculateVestedOptions(uintt,uintvestingStarts,uintoptions)publicconstantreturns(uint){if(t<=vestingStarts)return0;uinteffectiveTime=t-vestingStarts;if(effectiveTime<cliffPeriod)return0;elsereturneffectiveTime<vestingPeriod?divRound(options*effectiveTime,vestingPeriod):options;}

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 28fa69
severity: 1
line: 57
column: 2
content: functionapplyFadeoutToOptions(uint32t,uint32issueDate,uint32terminatedAt,uintoptions,uintvestedOptions)publicconstantreturns(uint){if(t<terminatedAt)returnvestedOptions;uinttimefromTermination=t-terminatedAt;uintemploymentPeriod=terminatedAt-issueDate;uintminFadeValue=divRound(options*(FP_SCALE-maxFadeoutPromille),FP_SCALE);if(minFadeValue>=vestedOptions)returnvestedOptions;returntimefromTermination>employmentPeriod?minFadeValue:(minFadeValue+divRound((vestedOptions-minFadeValue)*(employmentPeriod-timefromTermination),employmentPeriod));}

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 28fa69
severity: 1
line: 77
column: 2
content: functioncalculateOptionsComponents(uint[9]employee,uint32calcAtTime,uint32conversionOfferedAt,booldisableAcceleratedVesting)publicconstantreturns(uint,uint,uint){Employeememoryemp=deserializeEmployee(employee);if(emp.state==EmployeeState.OptionsExercised||emp.state==EmployeeState.WaitingForSignature)return(0,0,0);boolisESOPConverted=conversionOfferedAt>0&&calcAtTime>=conversionOfferedAt;uintissuedOptions=emp.poolOptions+emp.extraOptions;if(issuedOptions==0)return(0,0,0);if(calcAtTime<emp.terminatedAt&&emp.terminatedAt>0)emp.state=EmployeeState.Employed;uintvestedOptions=issuedOptions;boolaccelerateVesting=isESOPConverted&&emp.state==EmployeeState.Employed&&!disableAcceleratedVesting;if(!accelerateVesting){uint32calcVestingAt=emp.state==EmployeeState.Terminated?emp.terminatedAt:(emp.suspendedAt>0&&emp.suspendedAt<calcAtTime?emp.suspendedAt:conversionOfferedAt>0?conversionOfferedAt:calcAtTime);vestedOptions=calculateVestedOptions(calcVestingAt,emp.issueDate,issuedOptions);}if(emp.state==EmployeeState.Terminated){vestedOptions=applyFadeoutToOptions(isESOPConverted?conversionOfferedAt:calcAtTime,emp.issueDate,emp.terminatedAt,issuedOptions,vestedOptions);}var(vestedPoolOptions,vestedExtraOptions)=extractVestedOptionsComponents(emp.poolOptions,emp.extraOptions,vestedOptions);return(vestedPoolOptions,vestedExtraOptions,accelerateVesting?divRound(vestedPoolOptions*bonusOptionsPromille,FP_SCALE):0);}

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 28fa69
severity: 1
line: 124
column: 2
content: functioncalculateOptions(uint[9]employee,uint32calcAtTime,uint32conversionOfferedAt,booldisableAcceleratedVesting)publicconstantreturns(uint){var(vestedPoolOptions,vestedExtraOptions,bonus)=calculateOptionsComponents(employee,calcAtTime,conversionOfferedAt,disableAcceleratedVesting);returnvestedPoolOptions+vestedExtraOptions+bonus;}

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 28fa69
severity: 1
line: 134
column: 2
content: functionextractVestedOptionsComponents(uintissuedPoolOptions,uintissuedExtraOptions,uintvestedOptions)publicconstantreturns(uint,uint){if(issuedExtraOptions==0)return(vestedOptions,0);uintpoolOptions=divRound(issuedPoolOptions*vestedOptions,issuedPoolOptions+issuedExtraOptions);return(poolOptions,vestedOptions-poolOptions);}

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 28fa69
severity: 1
line: 146
column: 2
content: functioncalculateFadeoutToPool(uint32t,uint[9]employee)publicconstantreturns(uint,uint){Employeememoryemp=deserializeEmployee(employee);uintvestedOptions=calculateVestedOptions(emp.terminatedAt,emp.issueDate,emp.poolOptions);uintreturnedPoolOptions=applyFadeoutToOptions(emp.fadeoutStarts,emp.issueDate,emp.terminatedAt,emp.poolOptions,vestedOptions)-applyFadeoutToOptions(t,emp.issueDate,emp.terminatedAt,emp.poolOptions,vestedOptions);uintvestedExtraOptions=calculateVestedOptions(emp.terminatedAt,emp.issueDate,emp.extraOptions);uintreturnedExtraOptions=applyFadeoutToOptions(emp.fadeoutStarts,emp.issueDate,emp.terminatedAt,emp.extraOptions,vestedExtraOptions)-applyFadeoutToOptions(t,emp.issueDate,emp.terminatedAt,emp.extraOptions,vestedExtraOptions);return(returnedPoolOptions,returnedExtraOptions);}

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 28fa69
severity: 1
line: 163
column: 2
content: functionsimulateOptions(uint32issueDate,uint32terminatedAt,uint32poolOptions,uint32extraOptions,uint32suspendedAt,uint8employeeState,uint32calcAtTime)publicconstantreturns(uint){Employeememoryemp=Employee({issueDate:issueDate,terminatedAt:terminatedAt,poolOptions:poolOptions,extraOptions:extraOptions,state:EmployeeState(employeeState),timeToSign:issueDate+2weeks,fadeoutStarts:terminatedAt,suspendedAt:suspendedAt,idx:1});returncalculateOptions(serializeEmployee(emp),calcAtTime,0,false);}

ruleId: SOLIDITY_PRAGMAS_VERSION
patternId: 23fc32
severity: 1
line: 1
column: 16
content: ^

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 28
column: 4
content: if(companyAddress!=msg.sender)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 181
column: 4
content: if(pResidualAmountPromille>FP_SCALE||pBonusOptionsPromille>FP_SCALE||pNewEmployeePoolPromille>FP_SCALE||pOptionsPerShare==0)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 184
column: 4
content: if(pCliffPeriod>pVestingPeriod)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 187
column: 4
content: if(hasParameters())throw;

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 197
column: 2
content: functionOptionsCalculator(addresspCompanyAddress){companyAddress=pCompanyAddress;}

SOLIDITY_VISIBILITY :1
SOLIDITY_DEPRECATED_CONSTRUCTIONS :14
SOLIDITY_PRAGMAS_VERSION :1
SOLIDITY_REVERT_REQUIRE :4
